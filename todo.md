- [x] scrolling view
- [x] swapping?
- [x] transactional edit: so that exchanging siblings can be undone in one step
      instead of two smaller steps
- [x] multi-cursor
- [x] swap d to ^x, y to ^c
- [x] ^f for find
- [x] f/F for moving forward/backward (so that it's consistent with other
      actions, which is selection mode first, then action)
- [x] moving selection should scroll the page when out of view
- [x] remove windows, as it is useless
- [x] e for eating forward, useful for replacing current node with parent, also might make `d` obsolete
- [x] implement buffer
- [x] use patch for undo (undo history should be stored under buffer) (https://docs.rs/diffy/0.3.0/diffy/)
- [x] implement component
- [x] file picker
- [x] each editor should have a title (filename, prompt etc)
- [x] split window (needed for autocomplete, prompt)
  - parent-child architecture
  - each window can have multiple children window
  - when a window is closed, all of its children are closed
  - each window have a group, if any of the window in the same group is closed
    all windows in the same group should be closed
- [x] autocomplete
- [x] engine: press Enter to open new line below
- [x] fix(editor): backward token buggy
- [x] LSP (after window system implemented)
- [x] engine: d for delete (because I miss delete, eat is weird)
- [x] feat(editor/normal): backspace should not yank
- [x] fix(editor): swap sibling will skip sibling sometimes
- [x] fix(editor): p e ^z e , does not work as expected
- [x] LSP hover
- [x] LSP Diagnostics highlight error range
- [x] LSP Diagnostics show error message
- [x] LSP completion pass in trigger characters, so that typing . or :: provides better completion in Rust
- [x] LSP completion allow edit
- [x] remove e, make px the same as pe
- [x] LSP go to definition
- [x] LSP get references
- [x] screen '[' and ']' not working as expected, now cannot type []
- [x] refactor: SuggestiveEditor and Prompt should use the same underlying component
- [x] screen: show editor error to user
- [x] Format on save
- [x] feat(ui): decorate both sides of a selection with cursor, so that shrinking selection is more obvious
- [x] i = insert at end of selection, I = insert at beginning of selection
- [x] LSP rename
- [x] LSP signature help
- [x] LSP quick action
- [x] ([{ for enclosing current selection with brackets
- [] LSP file modifications (add,rename,delete)
- [] g for selecting the next node that is the same generation (descendant
  level from root) as the current node
- [] e for elevate the current node such that it becomes the siblings of its parent
- [] e for enclose the current node with one of the brackets
- [] f for moving to the next node which has the same field name as the current node
- [] mechanism for adding selection to all matching selection within current selection
- [] incorporate AST grep (https://github.com/ast-grep/ast-grep), the result is not very satisfying
- [] multi eat parent should not proceed if the final edit overlaps (not too important because we use patch for undo/redo now, so messed up stuff can be undone)
- [] jump should work for multiple selection?
- [] incorporate first-class refactoring (https://github.com/ThePrimeagen/refactoring.nvim)
- [] file tree
- [] feat(editor): f = go to final selection, F = go to first selection. e.g. sf = final sibling, mf = final match
- [] feat(editor): tree rotation, e.g. a + (b - c) => b - (a + c)
- [] feat(selection): quickfix list item as a type of selection, undo & add selection works across files
- [] feat(editor): z = align bottom, z again align center, Z = align top, Z again align top
- [] feat: workspaces (similar to tab in Vim)
- [] highlight mode should work like this: if change to line mode, then both end of the selection should select line, same for char, same for word
- [] copy should work between different editors
- [] Enter not working as expected in insert mode
- [] pressing 'b' remove the copied text
- [] Suggestive editor, pressing Enter when there's no filtered item should not get the item
- [] browswer-like for file navigation (use the undo crate https://crates.io/crates/undo)
- [] location list (local to each editor), local diagnostics should use this
- [] feat(editor/diagnostics-movement): should work for overlapped ranges, A:0-3, B:1-3, C:4-5, starting from A, forward should go to B first before C
- [] dropdown: handle up/down/enter event
- [] apply actions to all quickfix list items
- [] multi-autocomplete with insert
- [] feat(editor/slurp or barf):
  - exchange last nameless sibling (closing bracket), with the next sibling of parent
    - and reverse
  - exchange first nameless sibling (opening bracket), with the previous sibling of parent
    - and reverse
- [] editor(bug): go to previous error always step to the next first before going to the first
- [] perf: when LSP is enable, handling key event is very slow
- [] editor(lift): move an expression upwards, can be implemented by swapping
  the "section before the current node until its parent" with "current node"
- [] add integration test for every LSP Actions
- [] crash when formatting
